# 동일성(identity)와 동등성(equality)에 대해 설명해주세요. 

동일성은 객체의 주소를 비교하는 것이고, 동등성은 객체의 같음을 비교하는 것입니다.

기본적으로 자바에서는 Object 클래스에 정의된 equals() 메소드가 동일성 비교를 한다. 따라서, 개발자는 원한다면 equals() 메소드를 오버라이딩해서 동등성의 판단 기준을 정의해주면 된다.

### 동일성(Identity)
(1) 동일한 객체는 같은 해시 코드 값을 지닌다.

(2) 해시 코드 값: 모든 객체가 가지고 있는 고유한 값으로 보통 객체가 위치한 메모리 주소에 특정함수를 적용한 결과 값으로 나타낸다.

(3) 해시 코드 값은 Object 클래스의 hashCode()로 얻을 수 있다. 

(4) == 연산자로 비교 시 true 라면 동일성이 같은 객체이다.

### 동등성(Equality)
(1) 두 객체의 동등성을 비교했을 때 같다는 것은 객체가 가지고 있는 값이 같다라는 뜻 -> 즉 객체의 멤버 필드가 가리키는 값들이 서로 같다는 것

(2) 객체가 논리적으로 같은지를 비교하는 것

(3) 동등성이 같은 객체는 동일성이 같을 수도 다를 수도 있다.

(4) 자바에서 동등성을 비교할 때 주로 Object 클래스의 equals() 메소드를 오버라이딩한다.


일반적으로 equals() 은 아래와 같이 작성된다. 이를 오버라이딩 하지 않고 사용한다면 동일성을 비교하게된다.
따라서 equals() 메소드의 내부를 this와 obj의 멤버 필드의 값이 같은지를 비교하도록 오버라이딩 하면 동등성 비교가 가능하다.

```java
public boolean equals(Object obj) {
	return (this == obj);
}
```


> hashCode()와 equals()의 관계
> equals() 메소드를 동등성을 비교하기 위해 오버라이딩 했다면, hashCode() 메소드도 동등성을 기준으로 생성하게 해야한다. 그래야 HashTable 을 사용하는 
> 자료구조에서도 동등성을 보장할 수 있다.

만약, eqauls() 만 오버라이딩하고 hashCode() 는 오버라이딩을 하지 않는다면
아래와 같이 hashCode() 를 사용하는 컬렉션에서 원치 않는 결과값이 도출된다.

```java
  @Test
    void carContainsTest() {
        Car genesis1 = new Car("제네시스");
        Car genesis2 = new Car("제네시스");

        Set<Car> cars = new HashSet<>();
        cars.add(genesis1);
        cars.add(genesis2);

        assertThat(cars.size()).isEqualTo(1);
    }
    

//Expected : 1
//But was  : 2
//Expected : 1
//Actual   : 2
```
