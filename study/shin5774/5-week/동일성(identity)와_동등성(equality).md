# 동일성(identity)와 동등성(equality)에 대해 설명해주세요. (equals(), ==)

## 답변

```
동일성이란 두 객체가 완전히 같은경우 즉, 동일한 객체를 두 변수가 가리키는 경우를 의미하고 동등성이란 서로 다른 객체이지만 내부의 속성 값이 같은 경우를 의미합니다.
이를 확인하기 위해 자바에서는 동등성은 == 를 사용하고 동등성의 경우는 equals를 메서드를 사용합니다.
하지만 equals()의 경우는 최상위 클래스인 Object는 내부 로직이 동일성을 체크하기 때문에 객체의 동등성을 확인하기 위해서는 이를 override해서 내부적으로 구현해줘야 합니다. 이와 동시에 hashcode 메서드 또한 오버라이딩을 통해 구현을 해줘야합니다.
```

### 예상 꼬리 질문 및 답변

- hashcode 메서드를 구현해줘야 하는 이유
    - 답
      hashcode란 자바에서 객체를 식별하는 값이기에 이를 일치하게 해야지 서로 같은 객체라고 보는것이다.

## 내용 정리

- 동일성

  단어 그대로 동일하다는 뜻으로 두 객체가 완전히 같은경우. 이러한 두 객체는 하나의 객체로 봐도 무방하며 주소값도 동일하기에 변수가 같은 객체를 가리킨다.

  == 연산자를 통해 동일성을 확인한다.

- 동등성

  두 객체가 같은 정보를 갖고 있는 경우를 의미함. 객체의 주소가 다르더라도 두 변수는 동등하다고 할수 있다.

  동등≠동일이다. 동등성을 판단할때 즉, 값의 일치를 확인할때는 equals 연산자로 확인한다.

    - equals 연산자의 재정의 필요성

      equals 연산자의 경우, 최초 Object에서 정의된 경우에는 동일성만을 검증한다. 따라서 동등성을 재정의 해주기 위해서는 객체의 특성에 맞는 재정의가 필요하다.

    - equals와 같이 hashCode를 오버라이딩 해줘야 하는 이유

      자바의 경우는 동등성을 비교하는 로직에서 hashCode()의 값을 비교하고 이것이 같을 경우에 equals()를 비교한다. 즉 hasCode()가 우선적으로 연산이 되어서 만약 hashCode()가 다르다면 서로 다른 객체로 인식이 된다.

        - 여기서 hashCode는 무엇을 말하는 것일까?

          자바는 hashCode라는 값을 통해 heap에 있는 객체의 위치와 매핑하여 이를 참조한다. 즉 pointer를 사용하지 않는다. 이를 hashcode reference라고 한다.

          즉 hashcode를 동일하게 한다는것은 이러한 참조값을 동일하게 한다는것과 같은 의미이다.
