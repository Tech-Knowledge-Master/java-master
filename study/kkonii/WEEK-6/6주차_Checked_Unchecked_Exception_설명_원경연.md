## ⏲ Checked Exception과 Unchecked Exception에 대해 설명해주세요. 스프링 트랜잭션 추상화에서 rollback 대상은 무엇일까요

---

### 0. 예외(Exception) 란 무엇인가
프로그램 실행 중, 개발자의 실수로 발생하는 예기치 못한 상황을 말한다.
크게 `체크`/`언체크` 예외 두 가지로 구분한다.

#### 0-1. 예외 계층 구조
```
            Object
              ↑
           Throwable
              ↑
         _____|__________
         |               |
       Error           Exception
                           ↑
                           |-- CheckedException
                           |
                           |-- RuntimeException
                                     ↑
                              UncheckedException
                           
        
```


### 1. 체크 예외 (Checked Exception)
- Exception 클래스를 상속하는 하위 클래스들 중 runtimeException 을 제외한 클래스 
- 반드시 에러 처리(`throw` / `try-catch`) 를 해야 하는 예외
- 컴파일러가 에러 처리를 확인하는 예외들 즉, 컴파일 시점에 확인된다
- 예외 발생시, 트랜잭션을 `rollback`을 하지 않는다


### 2. 언체크 예외 (Unchecked Exception)
- RuntimeException의 하위 클래스들
- 프로그램의 실행 중(runtime)에 발생할 수 있는 예외
- 컴파일러가 명시적으로 에러 처리를 확인하지 않는 예외
- 예외 발생시, 트랜잭션을 `rollback` 처리

```
▶  즉, 스프링 트랜잭션 추상화에서 롤백(rollback)의 대상이 되는 것은
   Unchecked Exception 이다.
```


### 3. Error와 Exception의 차이를 알고 있는가
`에러`는 프로그램이 실행되는 중 발생하는 심각한 문제를 나타낸다.
이는 주로 시스템 레벨에서 발생하며, 프로그램이나 개발자가 `제어하기 어렵고`,
프로그램의 정상 실행 유지 또는 복구가 어렵기 때문에 대부분의 경우 프로그램을 종료시킨다.
`메모리 부족`, `시스템 충돌`, `스택 오버플로우` 등이 에러의 대표적인 예시 상황이다.

반면, `예외`는 프로그램 실행 중에 발생할 수 있는, 비정상적이지만 `예측 가능하고 처리 가능한` 상황을 의미한다.
예외는 프로그램의 정상적인 흐름을 방해하지만, 적절한 예외처리를 통해 프로그램의 정상적인 실행을 계속 유지할 수 있습니다.


### 4. 트랜잭션 롤백((transaction rollback)은 왜 필요한가
"트랜잭션" 이란 데이터베이스 관리 시스템에서 일련의 데이터베이스 작업들을 `하나의 논리적 단위로 묶는 것`을 의미한다.    
쉽게 말하면, 하나 이상의 연산을 포함하는 작업 단위이다. 
트랜잭션 롤백이 필요한 이유는 다음과 같다.

1. 데이터 무결성 유지
    - 트랜잭션 중 일부 작업이 실패할 경우, 이전 상태로 돌아가 데이터의 `일관성`과 `정확성`을 유지할 수 있다

2. 오류 복구
    - `시스템 오류`, `하드웨어 장애`, `네트워크 문제` 등 예기치 못한 상황이 발생했을 때 롤백을 통해 데이터베이스를 안전한 상태로 복구할 수 있다.

3. 동시성 제어
    - 여러 사용자나 프로세스가 동시에 데이터베이스에 접근할 때 발생할 수 있는 충돌을 방지한다.
    - 데이터베이스의 일관성을 보장하는 동시에 여러 트랜잭션의 영향을 서로 격리할 수 있다.

4. 사용자의 실수 복구
    - 사용자가 실수로 잘못된 데이터를 입력했을 경우, 롤백을 통해 이를 복구할 수 있다.